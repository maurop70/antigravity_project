<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iron Condor Alpha | Command Center</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700&family=Inter:wght@400;600;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="brand">
                <span class="icon">ü¶Ö</span>
                <span class="text">IRON CONDOR<br><span class="highlight">ALPHA</span></span>
            </div>
            <nav>
                <a href="#" class="active" data-view="dashboard">Dashboard</a>
                <a href="#" data-view="portfolio">Portfolio</a>
                <a href="#" data-view="history">History</a>
                <a href="#" data-view="settings">Settings</a>
            </nav>
            <div class="agent-status">
                <div class="status-indicator online"></div>
                <div class="status-text">
                    <span class="label">AGENT STATUS</span>
                    <span class="value">ONLINE</span>
                    <span class="sub-text">Scanning Global Feeds...</span>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Top Bar -->
            <header class="top-bar">
                <div class="market-ticker">
                    <div class="ticker-item">
                        <span class="symbol">SPX</span>
                        <span class="price" id="ticker-spx">6966.28</span>
                        <span class="change positive" id="ticker-spx-change">+0.65%</span>
                    </div>
                    <div class="ticker-item">
                        <span class="symbol">VIX</span>
                        <span class="price" id="ticker-vix">14.49</span>
                        <span class="change negative" id="ticker-vix-change">-2.10%</span>
                    </div>
                    <div class="ticker-item">
                        <span class="symbol">IV RANK</span>
                        <span class="price" id="ticker-ivr">18</span>
                        <span class="change neutral">LOW</span>
                    </div>
                </div>
                <div class="user-profile">
                    <span>Trader</span>
                    <div class="avatar">T</div>
                </div>
            </header>

            <!-- REAL DATA INPUT PANEL -->
            <div class="market-config-panel"
                style="background: rgba(30, 41, 59, 0.5); border-bottom: 1px solid #333; padding: 10px 20px; display: flex; gap: 20px; align-items: center; margin-bottom: 20px;">
                <div style="font-size: 0.75rem; color: #00ff9d; font-weight: bold; font-family: 'JetBrains Mono';">
                    LIVE DATA FEED:</div>

                <div class="config-item">
                    <label style="color: #64748b; font-size: 0.7rem; margin-right: 5px;">SPX Price:</label>
                    <input type="number" id="input-spx" value="0.00" readonly
                        style="background: #0f172a; border: 1px solid #333; color: #00ff9d; width: 80px; padding: 2px 5px; cursor: default;">
                </div>

                <div class="config-item">
                    <label style="color: #64748b; font-size: 0.7rem; margin-right: 5px;">VIX:</label>
                    <input type="number" id="input-vix" value="0.00" readonly
                        style="background: #0f172a; border: 1px solid #333; color: #00ff9d; width: 60px; padding: 2px 5px; cursor: default;">
                </div>

                <div class="config-item">
                    <label style="color: #64748b; font-size: 0.7rem; margin-right: 5px;">Bias:</label>
                    <select id="input-bias" disabled
                        style="background: #0f172a; border: 1px solid #333; color: #aaa; padding: 2px 5px; cursor: default;">
                        <option value="Bullish">Bullish</option>
                        <option value="Neutral">Neutral</option>
                        <option value="Bearish">Bearish</option>
                    </select>
                </div>

                <div style="margin-left: auto; font-size: 0.7rem; color: #64748b; font-style: italic;">
                    ‚óè Synced via Yahoo Finance
                </div>
            </div>

            <!-- Dashboard Grid -->
            <div class="dashboard-grid">

                <!-- Panel 1: Active Strategy -->
                <section class="panel strategy-panel">
                    <div class="panel-header">
                        <h2>Active Signal</h2>
                        <span class="badge live">LIVE</span>
                    </div>
                    <div class="panel-body" id="active-strategy-container">
                        <!-- Injected via JS -->
                        <div class="loading">Analyzing Market...</div>
                    </div>
                </section>

                <!-- Panel 2: The Safe Zone Map -->
                <section class="panel map-panel">
                    <div class="panel-header">
                        <h2>Safe Zone Visualization</h2>
                    </div>
                    <div class="panel-body" id="map-container">
                        <!-- CSS Grid Visualizer will go here -->
                        <div class="visualizer-placeholder">
                            [Map Visualization]
                        </div>
                    </div>
                    <div class="metrics-row">
                        <div class="metric">
                            <span class="label">MMM (Exp Move)</span>
                            <span class="val" id="mmm-val">--</span>
                        </div>
                        <div class="metric">
                            <span class="label">PoP</span>
                            <span class="val" id="pop-val">--</span>
                        </div>
                        <div class="metric">
                            <span class="label">Days to Exp</span>
                            <span class="val" id="dte-val">--</span>
                        </div>
                    </div>
                </section>

                <!-- Panel 2.5: Capital Allocator (New) -->
                <section class="panel allocation-panel">
                    <div class="panel-header">
                        <h2>Capital Optimizer</h2>
                    </div>
                    <div class="panel-body">
                        <div class="input-group">
                            <label>Available Capital ($)</label>
                            <input type="number" id="capital-input" value="10000" step="1000">
                        </div>
                        <div class="optimization-preview" id="optimization-results">
                            <!-- Injected via JS -->
                            <div style="color: #64748b; font-size: 0.8rem; margin-top: 10px;">Calculating optimal spread
                                widths...</div>
                        </div>
                    </div>
                </section>

                <!-- Panel 3: Live Strategy Stream (Chat) -->
                <section class="panel stream-panel">
                    <div class="panel-header">
                        <h2>Agent Stream</h2>
                        <button class="icon-btn" id="clear-chat">‚Ü∫</button>
                    </div>
                    <div class="chat-feed" id="chat-feed">
                        <!-- Messages injected here -->
                    </div>
                    <div class="chat-input-area">
                        <input type="text" id="user-input" placeholder="Ask Agent / Request Scan...">
                        <button id="send-btn">‚û§</button>
                    </div>
                </section>

            </div>
        </main>
    </div>
    <script src="data.js?v=7"></script>
    <script src="alpha_feed.js?v=7"></script>
    <script src="alpha_brain.js?v=7"></script>
    <script src="app.js?v=7"></script>
</body>

</html>